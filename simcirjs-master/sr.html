<!doctype html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <script type="text/javascript" src="simcir.js"></script>
    <link rel="stylesheet" type="text/css" href="simcir.css" />
    <script type="text/javascript" src="simcir-basicset.js"></script>
    <link rel="stylesheet" type="text/css" href="simcir-basicset.css" />
    <script type="text/javascript" src="simcir-library.js"></script>
    <script type="text/javascript">
$(function() {

  var $s = simcir;

  var $simcir = $('#mySimcir');

  var getCircuitData = function() {
    return $s.controller(
        $simcir.find('.simcir-workspace') ).text();
  };
  var setCircuitData = function(data) {
    $s.setupSimcir($simcir, JSON.parse(data) );
  };

  // button click events
  $('#getDataBtn').click(function() {
    $('#dataArea').val(getCircuitData() );
  });
  $('#setDataBtn').click(function() {
    setCircuitData($('#dataArea').val() );
  });

  // load default (just specifies circuit size).
  setCircuitData('{ "width":600, "height":200 }');
});
    </script>
    <title></title>
  </head>
  <body>
    <div id="mySimcir"></div>
//*****************Randomizer**************************************
module Randomizer(input clk, input reset,input load,input wire[15:1] seed,input enable ,input d,output reg q,output reg[15:1]check);
reg [15:1] r_reg;
reg[15:1] r_next;
reg out;
initial begin 
r_reg=15'b011011100010101; //initialzed vector
end 
always @(posedge clk) 
begin
check=r_reg;
if(load) // if true , seed value that will be given in testbench will be set to r_reg
begin
r_reg=seed;
end
if(reset)
begin
r_reg=15'b011011100010101;
end
if(enable)
begin 
out=r_reg[2]^r_reg[1]; // 1,2 are bit [14] && bit[15] in sequence
r_next={out,r_reg[15:2]};
r_reg<=r_next;
end 
q=out^d;
end
endmodule
//******************Testbench************************************
module Randomizer_test_bench(check);
wire  q  ;
reg clk,reset,d,enable ;
output wire [15:1] check;

reg load; //should be reg to be change in initial begin block

reg [15:1] seed=15'b100100100100100;//initial value for the seed just for test , change it if you want

reg [96:1]hexaout; //The Data out in hexadecimal base
reg [96:1]hexain; //The Data in in hexadecimal base
localparam period=10;


Randomizer MB1(clk,reset,load,seed,enable,d,q,check);//calling randomizer module
always 
begin
#(period/2) clk=~clk;
end

initial begin 
$display(" time    r_reg          out  in  enable "); 

enable=0; //******NOTE******** "at this case because of enable=0, the data out will appear as " x" in transcript
 reset=1;
 clk=1;
 d=1;
hexain[96]=d;
//load=1;
$strobe(" %g     \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
# (period) enable=1'b1; load=0; reset=0;
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
#(period) d=1'b0;hexain[95]=d; //10
hexaout[96]=q;// the out (q )of the pervious time not the current
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
# (period) d=1'b1; hexain[94]=d; //20
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[95]=q;
# (period) d=1'b0; hexain[93]=d; //30
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[94]=q;
//++++++++++++++++++++++++
# (period)  d=1'b1; hexain[92]=d;//40
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[93]=q;
# (period)  d=1'b1;hexain[91]=d; //50
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[92]=q;
# (period)  d=1'b0; hexain[90]=d;//60
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[91]=q;
# (period)  d=1'b0; hexain[89]=d; //70
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[90]=q;
//++++++++++++++++++++++++++
# (period)  d=1'b1; hexain[88]=d;//80
$strobe(" %g    \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[89]=q;
# (period)  d=1'b0; hexain[87]=d;//90
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[88]=q;
# (period)  d=1'b1; hexain[86]=d;//100
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[87]=q;
# (period)  d=1'b1;hexain[85]=d; //110
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[86]=q;
//++++++++++++++++++++++++=
# (period)  d=1'b1; hexain[84]=d;//120
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[85]=q;
# (period)  d=1'b1; hexain[83]=d; //130
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[84]=q;
# (period)  d=1'b0; hexain[82]=d;//140
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[83]=q;
# (period)  d=1'b0; hexain[81]=d; //150
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[82]=q;
//++++++++++++++++++++++=
# (period)  d=1'b1; hexain[80]=d;//160
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[81]=q;
# (period)  d=1'b1; hexain[79]=d; //170
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[80]=q;
# (period)  d=1'b0; hexain[78]=d;//180
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[79]=q;
# (period)  d=1'b1; hexain[77]=d;//190
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[78]=q;
//+++++++++++++++++++++++
# (period)  d=1'b0; hexain[76]=d;//200
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[77]=q;
# (period)  d=1'b0; hexain[75]=d;//210
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[76]=q;
# (period)  d=1'b1; hexain[74]=d;//220
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[75]=q;
# (period)  d=1'b0; hexain[73]=d; //230
$strobe(" %g   \t%b  $strobe(" %g   \t%b hexaout[57]=q;
# 
$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable$strobe(" %g   \t%b  \t%b  \t%b  \t%b  ",$time ,check,q,d,enable);
hexaout[45]=q
# (period) $shexa$strobe(" %g ,hexaout[8:5]
    </div>
    <textarea id="dataArea" style="width:600px; height:200px;"></textarea>
  </body>
</html>
